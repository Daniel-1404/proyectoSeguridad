<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Login Moderno</title>
  <link rel="stylesheet" href="public/css/login_style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body>

  <div class="login-container">
    <h2>Iniciar Sesión</h2>
    <form id="loginForm">
      <input type="text" id="username" placeholder="Usuario" required>
      <input type="password" id="password" placeholder="Contraseña" required>
      <button type="submit">Ingresar</button>
      <div class="error" id="errorMsg"></div>
    </form>
  </div>


  <script>
    document.addEventListener('DOMContentLoaded', function () {
        // Mostrar alerta si hay mensaje de éxito (para creación/actualización)
        const showInactivityAlert = sessionStorage.getItem('showInactivityAlert');
  
        if (showInactivityAlert) {
            const alertHTML = `
                <div class="alert alert-warning alert-dismissible fade show" role="alert" 
                      style="position: fixed; top: 20px; right: 20px; z-index: 1100;">
                    <strong>¡Ups!</strong> Has estado inactivo mucho tiempo.
                    <button id="closeAlertAndTab" type="button" class="btn-close" aria-label="Close"></button>
                </div>
            `;
            document.body.insertAdjacentHTML('afterbegin', alertHTML);
            sessionStorage.removeItem('showInactivityAlert');
  
            // Esperar un momento para asegurarse que el botón esté en el DOM
            setTimeout(() => {
                const closeBtn = document.getElementById('closeAlertAndTab');
                if (closeBtn) {
                    closeBtn.addEventListener('click', () => {
                        // Cierra la alerta visualmente (opcional si ya se elimina)
                        closeBtn.closest('.alert').remove();
  
                        // Intentar cerrar la pestaña (puede no funcionar si no fue abierta por JS)
                        window.close();
  
                        // Alternativa: redireccionar
                        // window.location.href = 'login.html';
                    });
                }
            }, 100);
        }
    });
  </script>
  
  <script src="src/validations/loginValidation.js"></script>
</body>
</html>
