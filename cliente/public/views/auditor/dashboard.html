<!DOCTYPE html>
<html lang="es" class="h-100">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Auditor - ProyectoSeguridad</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../../css/user_style.css" rel="stylesheet">
    <script src="../../../src/validations/sessionValidation.js"></script>
    <script>checkSession(['Auditor']);</script>
    <script src="../../../src/validations/inactivityLogout.js"></script>
</head>
<body class="d-flex flex-column h-100">
    <div id="nav-container"></div>
    <br><br><br><br><br><br><br>
    <!-- Begin page content -->

    <main class="flex-shrink-0">
        <div class="container mt-4">
            <h2 class="mb-4">Panel de Auditoría</h2>
        </div>
        <div class="container mt-4">
            <div class="container border rounded shadow-lg mt-4">
                <h3 class="my-3">Lista de Productos</h3>

                <table class="table table-hover table-bordered my-3">
                    <thead class="table-dark">
                        <tr>
                            <th class="text-center">Código</th>
                            <th class="text-center">Nombre</th>
                            <th class="text-center">Descripción</th>
                            <th class="text-center">Cantidad</th>
                            <th class="text-center">Precio</th>
                        </tr>
                    </thead>
                    <tbody id="productsTableBody">
                        <!-- Los productos se cargaron aqui -->
                    </tbody>
                </table>
            </div>
            <div class="container border rounded shadow-lg mt-4">
                <h3 class="my-3">Lista de Usuarios</h3>

                <table class="table table-hover table-bordered my-3">
                    <thead class="table-dark">
                        <tr>
                            <th class="text-center">Usuario</th>
                            <th class="text-center">Rol</th>
                            <th class="text-center">Permisos</th>
                            <th class="text-center">Último Acceso</th>
                        </tr>
                    </thead>
                    <tbody id="usersTableBody">
                        <!-- Los usuarios se cargaron aqui -->
                    </tbody>
                </table>
            </div>
        </div>
    </main>

    <div id="footer-container" class="mt-auto"></div>

    <script src="../../../src/utils/navigation.js"></script>
    <script src="../../../src/utils/footer.js"></script>
    <script src="../../../src/auditor/listUsers.js"></script>
    <script src="../../../src/auditor/listProducts.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../../src/validations/logoutValidation.js"></script>

    <script>
        function showSection(section) {
            document.getElementById('usuarios-section').classList.add('d-none');
            document.getElementById('productos-section').classList.add('d-none');

            if (section === 'usuarios') {
                document.getElementById('usuarios-section').classList.remove('d-none');
            } else if (section === 'productos') {
                document.getElementById('productos-section').classList.remove('d-none');
            }
        }
    </script>
</body>
</html>
